<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { font-weight: bold; } /* Alert */
code span.an { font-style: italic; } /* Annotation */
code span.cf { font-weight: bold; } /* ControlFlow */
code span.co { font-style: italic; } /* Comment */
code span.cv { font-style: italic; } /* CommentVar */
code span.do { font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.er { font-weight: bold; } /* Error */
code span.in { font-style: italic; } /* Information */
code span.kw { font-weight: bold; } /* Keyword */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.wa { font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Life Expectancy Analysis</title>

  <meta property="description" itemprop="description" content="A short description of the post."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-12-17"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-12-17"/>
  <meta name="article:author" content="Blaise Appolinary"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Life Expectancy Analysis"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="A short description of the post."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Life Expectancy Analysis"/>
  <meta property="twitter:description" content="A short description of the post."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Life Expectancy Analysis"]},{"type":"character","attributes":{},"value":["A short description of the post.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Blaise Appolinary"]},{"type":"character","attributes":{},"value":["https://example.com/norajones"]}]}]},{"type":"character","attributes":{},"value":["2021-12-17"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_float","code_folding","highlight","df_print"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["monochrome"]},{"type":"character","attributes":{},"value":["kable"]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["life-expectancy-analysis_files/anchor-4.2.2/anchor.min.js","life-expectancy-analysis_files/bowser-1.9.3/bowser.min.js","life-expectancy-analysis_files/crosstalk-1.2.0/css/crosstalk.min.css","life-expectancy-analysis_files/crosstalk-1.2.0/js/crosstalk.js","life-expectancy-analysis_files/crosstalk-1.2.0/js/crosstalk.js.map","life-expectancy-analysis_files/crosstalk-1.2.0/js/crosstalk.min.js","life-expectancy-analysis_files/crosstalk-1.2.0/js/crosstalk.min.js.map","life-expectancy-analysis_files/crosstalk-1.2.0/scss/crosstalk.scss","life-expectancy-analysis_files/distill-2.2.21/template.v2.js","life-expectancy-analysis_files/figure-html5/correlation matrix-1.png","life-expectancy-analysis_files/figure-html5/HIV VS LIFE EXPECTANCY-1.png","life-expectancy-analysis_files/figure-html5/Income composition vs Adult Mortality-1.gif","life-expectancy-analysis_files/figure-html5/Income composition vs Life expectancy-1.png","life-expectancy-analysis_files/figure-html5/networkplot-1.png","life-expectancy-analysis_files/figure-html5/unnamed-chunk-13-1.png","life-expectancy-analysis_files/figure-html5/unnamed-chunk-18-1.png","life-expectancy-analysis_files/figure-html5/unnamed-chunk-18-2.png","life-expectancy-analysis_files/figure-html5/unnamed-chunk-20-1.png","life-expectancy-analysis_files/figure-html5/unnamed-chunk-20-2.png","life-expectancy-analysis_files/figure-html5/unnamed-chunk-26-1.png","life-expectancy-analysis_files/figure-html5/unnamed-chunk-4-1.png","life-expectancy-analysis_files/figure-html5/unnamed-chunk-9-1.png","life-expectancy-analysis_files/header-attrs-2.11/header-attrs.js","life-expectancy-analysis_files/htmlwidgets-1.5.4/htmlwidgets.js","life-expectancy-analysis_files/jquery-3.6.0/jquery-3.6.0.js","life-expectancy-analysis_files/jquery-3.6.0/jquery-3.6.0.min.js","life-expectancy-analysis_files/jquery-3.6.0/jquery-3.6.0.min.map","life-expectancy-analysis_files/plotly-binding-4.10.0/plotly.js","life-expectancy-analysis_files/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css","life-expectancy-analysis_files/plotly-main-2.5.1/plotly-latest.min.js","life-expectancy-analysis_files/popper-2.6.0/popper.min.js","life-expectancy-analysis_files/tippy-6.2.7/tippy-bundle.umd.min.js","life-expectancy-analysis_files/tippy-6.2.7/tippy-light-border.css","life-expectancy-analysis_files/tippy-6.2.7/tippy.css","life-expectancy-analysis_files/tippy-6.2.7/tippy.umd.min.js","life-expectancy-analysis_files/typedarray-0.1/typedarray.min.js","life-expectancy-analysis_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="life-expectancy-analysis_files/header-attrs-2.11/header-attrs.js"></script>
  <script src="life-expectancy-analysis_files/htmlwidgets-1.5.4/htmlwidgets.js"></script>
  <script src="life-expectancy-analysis_files/plotly-binding-4.10.0/plotly.js"></script>
  <script src="life-expectancy-analysis_files/typedarray-0.1/typedarray.min.js"></script>
  <script src="life-expectancy-analysis_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="life-expectancy-analysis_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
  <script src="life-expectancy-analysis_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
  <link href="life-expectancy-analysis_files/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
  <script src="life-expectancy-analysis_files/plotly-main-2.5.1/plotly-latest.min.js"></script>
  <script src="life-expectancy-analysis_files/popper-2.6.0/popper.min.js"></script>
  <link href="life-expectancy-analysis_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="life-expectancy-analysis_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="life-expectancy-analysis_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="life-expectancy-analysis_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="life-expectancy-analysis_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="life-expectancy-analysis_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="life-expectancy-analysis_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Life Expectancy Analysis","description":"A short description of the post.","authors":[{"author":"Blaise Appolinary","authorURL":"https://example.com/norajones","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-12-17T00:00:00.000-08:00","citationText":"Appolinary, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Life Expectancy Analysis</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>A short description of the post.</p></p>
</div>

<div class="d-byline">
  Blaise Appolinary <a href="https://example.com/norajones" class="uri">https://example.com/norajones</a> 
  
<br/>2021-12-17
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#loading-necessary-packages-for-the-analysis">Loading necessary packages for the Analysis</a>
<ul>
<li><a href="#loading-dataset-from-github">Loading Dataset from github</a></li>
</ul></li>
<li><a href="#exploratory-data-analysis">Exploratory Data Analysis</a>
<ul>
<li><a href="#data-preview-and-cleaning">Data preview and cleaning</a></li>
<li><a href="#variable-corelation">Variable Corelation</a>
<ul>
<li><a href="#categorical-variables">Categorical Variables</a></li>
<li><a href="#continuous-variables">Continuous Variables</a></li>
</ul></li>
</ul></li>
<li><a href="#variable-selection"><em>Variable Selection</em></a>
<ul>
<li><a href="#preparing-the-data">Preparing the data</a></li>
<li><a href="#backward-selection">Backward Selection</a></li>
<li><a href="#forward-selection">Forward Selection</a></li>
<li><a href="#lasso-model-selection">LASSO Model Selection</a></li>
<li><a href="#ridge-model-selection">Ridge Model Selection</a></li>
<li><a href="#cross-validation">Cross-Validation</a></li>
</ul></li>
<li><a href="#discussion">Discussion</a>
<ul>
<li><a href="#results-and-impacts">Results and impacts</a></li>
<li><a href="#are-the-results-what-we-expected">Are the results what we expected?</a></li>
<li><a href="#improvements-that-could-be-made">Improvements that could be made</a></li>
<li><a href="#future-questionsresearch">Future questions/research</a></li>
</ul></li>
<li><a href="#references">References</a></li>
</ul>
</nav>
</div>
<h1 id="introduction">Introduction</h1>
<p>Life expectancy is an estimate of how long a person would live on average. Throughout the years, there have been lot of studies on factors affecting life expectancy. However, these studies have not taken into account the possibility that human development index could have a significant effect. Additionally, past studies were conducted using multiple linear regressions based on world data for only one year. Therefore, there is reason to consider global data from 2000 to 2015 instead. This project relies heavily on the accuracy of the data which is provided by the Global Health Observatory (GHO) data repository under World Health Organization (WHO)<span class="math inline">\(^{(1)}\)</span>. Our goal is to determine the most significant variables to create an optimal linear regression model for predicting life expectancy. For instance, if current mortality rates in every age group remained constant throughout, then it would be an easily understood measure to which any person could directly relate <span class="math inline">\(^{(2)}\)</span>. In reality, life expectancy is affected by a variety of socioeconomic, genetic and environmental factors. Therefore, it makes for a good area of study to investigate via statistical methods to better understand the measure of life expectancy.</p>
<h1 id="loading-necessary-packages-for-the-analysis">Loading necessary packages for the Analysis</h1>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://github.com/hrbrmstr/hrbrthemes'>hrbrthemes</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/xiangpin/ggstar/'>ggstar</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://sjmgarnier.github.io/viridis/'>viridis</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/daattali/ggExtra'>ggExtra</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://plotly-r.com'>plotly</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://indrajeetpatil.github.io/ggstatsplot/'>ggstatsplot</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>leaps</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://gganimate.com'>gganimate</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidymodels.tidymodels.org'>tidymodels</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/tidymodels/corrr'>corrr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/ben519/mltools'>mltools</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://users.stat.umn.edu/~zouxx019/'>elasticnet</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://plotly-r.com'>plotly</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/topepo/caret/'>caret</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://jessecambon.github.io/tidygeocoder/'>tidygeocoder</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://glmnet.stanford.edu'>glmnet</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggobi.github.io/ggally/'>GGally</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/rstudio/DT'>DT</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://broom.tidymodels.org/'>broom</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span>repr.plot.width <span class='op'>=</span> <span class='fl'>8</span>, repr.plot.height <span class='op'>=</span> <span class='fl'>8</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://yihui.org/knitr/'>knitr</a></span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h2 id="loading-dataset-from-github">Loading Dataset from github</h2>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"https://raw.githubusercontent.com/zackhamza01/Life-Expectancy/main/Life%20Expectancy%20Data.csv"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h1 id="exploratory-data-analysis">Exploratory Data Analysis</h1>
<p>To begin with, we first performed some data cleaning and exploration. The exploration was very necessary for us to have a deeper understanding of the dataset before the process of gaining insights from it.</p>
<h2 id="data-preview-and-cleaning">Data preview and cleaning</h2>
Table 1
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 1%" />
<col style="width: 3%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 4%" />
<col style="width: 2%" />
<col style="width: 7%" />
<col style="width: 4%" />
<col style="width: 2%" />
<col style="width: 1%" />
<col style="width: 6%" />
<col style="width: 2%" />
<col style="width: 6%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 7%" />
<col style="width: 6%" />
<col style="width: 10%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Country</th>
<th style="text-align: right;">Year</th>
<th style="text-align: left;">Status</th>
<th style="text-align: right;">Life.expectancy</th>
<th style="text-align: right;">Adult.Mortality</th>
<th style="text-align: right;">infant.deaths</th>
<th style="text-align: right;">Alcohol</th>
<th style="text-align: right;">percentage.expenditure</th>
<th style="text-align: right;">Hepatitis.B</th>
<th style="text-align: right;">Measles</th>
<th style="text-align: right;">BMI</th>
<th style="text-align: right;">under.five.deaths</th>
<th style="text-align: right;">Polio</th>
<th style="text-align: right;">Total.expenditure</th>
<th style="text-align: right;">Diphtheria</th>
<th style="text-align: right;">HIV.AIDS</th>
<th style="text-align: right;">GDP</th>
<th style="text-align: right;">Population</th>
<th style="text-align: right;">thinness..1.19.years</th>
<th style="text-align: right;">thinness.5.9.years</th>
<th style="text-align: right;">Income.composition.of.resources</th>
<th style="text-align: right;">Schooling</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2015</td>
<td style="text-align: left;">Developing</td>
<td style="text-align: right;">65.0</td>
<td style="text-align: right;">263</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">71.27962</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">1154</td>
<td style="text-align: right;">19.1</td>
<td style="text-align: right;">83</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">8.16</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">584.2592</td>
<td style="text-align: right;">33736494</td>
<td style="text-align: right;">17.2</td>
<td style="text-align: right;">17.3</td>
<td style="text-align: right;">0.479</td>
<td style="text-align: right;">10.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2014</td>
<td style="text-align: left;">Developing</td>
<td style="text-align: right;">59.9</td>
<td style="text-align: right;">271</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">73.52358</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">492</td>
<td style="text-align: right;">18.6</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">58</td>
<td style="text-align: right;">8.18</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">612.6965</td>
<td style="text-align: right;">327582</td>
<td style="text-align: right;">17.5</td>
<td style="text-align: right;">17.5</td>
<td style="text-align: right;">0.476</td>
<td style="text-align: right;">10.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2013</td>
<td style="text-align: left;">Developing</td>
<td style="text-align: right;">59.9</td>
<td style="text-align: right;">268</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">73.21924</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">430</td>
<td style="text-align: right;">18.1</td>
<td style="text-align: right;">89</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">8.13</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">631.7450</td>
<td style="text-align: right;">31731688</td>
<td style="text-align: right;">17.7</td>
<td style="text-align: right;">17.7</td>
<td style="text-align: right;">0.470</td>
<td style="text-align: right;">9.9</td>
</tr>
</tbody>
</table>
</div>
<p>This dataset contains variables such as country, year, status, life expectancy, etc. The <code>Adult.Mortality</code> column represents the adult mortality rates of both genders, which is the probability of dying between 15 and 60 years per 1000 population. <code>Infant.deaths</code> showcases the number of infant deaths per 1000 population. The <code>Alcohol</code> column describes the total litres of consumption for pure alcohol, which is recorded per capita for ages 15 and older. The <code>Hepatitis.B</code>, <code>Polio</code>, and <code>Diphteria</code> variables demonstrate the percentage of immunization coverage among 1-year-olds for each of those diseases. The <code>Measles</code> column signifies the number of reported cases of the measles per 1000 population. thinness..1.19.years` represents the percentage of thinness present in children ranging from the age of 10 to 19 years old.</p>
<p>Life expectancy ranges from 44 to 89. This means that the people in the country with the highest life expectancy lived almost twice as long as the ones in the country with the lowest life expectancy.</p>
<p>The dataframe has 1649 rows and 20 attributes.</p>
<h2 id="variable-corelation">Variable Corelation</h2>
<h3 id="categorical-variables">Categorical Variables</h3>
<h4 id="comparison-of-mean-life-expectancy-rate-between-developed-and-developing-countries">Comparison of mean life expectancy rate between developed and developing countries</h4>
<p>To get an understanding of how the development status of a country is correlated with life expectancy, we compared the mean life expectancy of developed and developing countries.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"Table 2"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Table 2</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span><span class='op'>&gt;</span><span class='fl'>0</span><span class='op'>)</span><span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>Status</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarize</a></span><span class='op'>(</span>mean_expectancy<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Status</th>
<th style="text-align: right;">mean_expectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Developed</td>
<td style="text-align: right;">79.19785</td>
</tr>
<tr class="even">
<td style="text-align: left;">Developing</td>
<td style="text-align: right;">67.11147</td>
</tr>
</tbody>
</table>
</div>
<p>In the table above, we saw that on average, people in developed countries lived almost a decade longer than people in developing countries.</p>
<p>To better vizualize the correlation between the development status of a country and Life expectancy, we created a boxplot as shown below.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Plot showing life expectancy in different country status</span>
<span class='va'>plt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://indrajeetpatil.github.io/ggstatsplot/reference/ggbetweenstats.html'>ggbetweenstats</a></span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>data</span>,
  x <span class='op'>=</span> <span class='va'>Status</span>, 
  y <span class='op'>=</span> <span class='va'>Life.expectancy</span>
<span class='op'>)</span>
<span class='va'>plt</span> <span class='op'>&lt;-</span> <span class='va'>plt</span> <span class='op'>+</span> 
  <span class='co'># Add labels and title</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>
    x <span class='op'>=</span> <span class='st'>"Development Status"</span>,
    y <span class='op'>=</span> <span class='st'>"Life Expectancy"</span>,
    title <span class='op'>=</span> <span class='st'>"Life Expectancy Vs Development Status"</span>
  <span class='op'>)</span> <span class='op'>+</span> 
  <span class='co'># Customizations</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># This is the new default font in the plot</span>
    text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"Roboto"</span>, size <span class='op'>=</span> <span class='fl'>8</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,
    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>
      family <span class='op'>=</span> <span class='st'>"Lobster Two"</span>, 
      size <span class='op'>=</span> <span class='fl'>20</span>,
      face <span class='op'>=</span> <span class='st'>"bold"</span>,
      color <span class='op'>=</span> <span class='st'>"#2a475e"</span>
    <span class='op'>)</span>,
    <span class='co'># Statistical annotations below the main title</span>
    plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>
      family <span class='op'>=</span> <span class='st'>"Roboto"</span>, 
      size <span class='op'>=</span> <span class='fl'>15</span>, 
      face <span class='op'>=</span> <span class='st'>"bold"</span>,
      color<span class='op'>=</span><span class='st'>"#1b2838"</span>
    <span class='op'>)</span>,
    plot.title.position <span class='op'>=</span> <span class='st'>"plot"</span>, <span class='co'># slightly different from default</span>
    axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,
    axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>12</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    axis.ticks <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
    axis.line <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"grey50"</span><span class='op'>)</span>,
    panel.grid <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"#b4aea9"</span><span class='op'>)</span>,
    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
    panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>linetype <span class='op'>=</span> <span class='st'>"dashed"</span><span class='op'>)</span>,
    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#fbf9f4"</span>, color <span class='op'>=</span> <span class='st'>"#fbf9f4"</span><span class='op'>)</span>,
    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#fbf9f4"</span>, color <span class='op'>=</span> <span class='st'>"#fbf9f4"</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>plt</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/unnamed-chunk-4-1.png" width="624" /></p>
</div>
<p>As we can see here, there is a stark difference in the life expectancy in developing and developed countries. To begin with, the interquartile range of life expectancy is lower in developed than developing countries.The mean and median are both much higher in developed countries. The minimum life expectancy is also much lower in developing countries. Thus, we can see that the status of the country could affect life expectancy.</p>
<p>The next categorical variable is Country. To show this, we created a map depicting the average life expectancy in each country.</p>
Figure 2
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>new_data</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='co'>#%&gt;% na.omit()</span>
<span class='va'>summary_data</span> <span class='op'>&lt;-</span> <span class='va'>new_data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>Country</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarize</a></span><span class='op'>(</span>mean<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>g</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
showframe <span class='op'>=</span> <span class='cn'>TRUE</span>,
showcoastlines <span class='op'>=</span> <span class='cn'>TRUE</span>,
projection <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>type <span class='op'>=</span> <span class='st'>'Mercator'</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>plot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/plotly/man/plot_geo.html'>plot_geo</a></span><span class='op'>(</span><span class='va'>summary_data</span>, locationmode<span class='op'>=</span><span class='st'>"country names"</span><span class='op'>)</span><span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://rdrr.io/pkg/plotly/man/add_trace.html'>add_trace</a></span><span class='op'>(</span>locations<span class='op'>=</span><span class='op'>~</span><span class='va'>Country</span>,
             z<span class='op'>=</span><span class='op'>~</span><span class='va'>mean</span>,
             color<span class='op'>=</span><span class='op'>~</span><span class='va'>mean</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://rdrr.io/pkg/plotly/man/layout.html'>layout</a></span><span class='op'>(</span>
  title <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/with.html'>with</a></span><span class='op'>(</span><span class='va'>summary_data</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>'Mean Life Expectancy'</span><span class='op'>)</span><span class='op'>)</span>,
  geo <span class='op'>=</span> <span class='va'>g</span>
<span class='op'>)</span>
<span class='va'>plot</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-1dfa12b80a227d3ff37d" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1dfa12b80a227d3ff37d">{"x":{"visdat":{"1310540320f8":["function () ","plotlyVisDat"]},"cur_data":"1310540320f8","attrs":{"1310540320f8":{"locationmode":"country names","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"locations":{},"z":{},"color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"mapType":"geo","title":"Mean Life Expectancy","geo":{"domain":{"x":[0,1],"y":[0,1]},"showframe":true,"showcoastlines":true,"projection":{"type":"Mercator"}},"scene":{"zaxis":{"title":"mean"}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"mean","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666666","rgba(70,19,97,1)"],["0.0833333333333332","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666666","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"locationmode":"country names","locations":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia (Plurinational State of)","Bosnia and Herzegovina","Botswana","Brazil","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","CÃ´te d'Ivoire","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Democratic People's Republic of Korea","Democratic Republic of the Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran (Islamic Republic of)","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (Federated States of)","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Republic of Korea","Republic of Moldova","Romania","Russian Federation","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Tajikistan","Thailand","The former Yugoslav republic of Macedonia","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom of Great Britain and Northern Ireland","United Republic of Tanzania","United States of America","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Yemen","Zambia","Zimbabwe"],"z":[58.19375,75.15625,73.61875,49.01875,75.05625,75.15625,73.4,81.8125,81.48125,70.73125,74.2875,75.725,69.3,74.35625,69.90625,80.68125,69.26875,57.56875,66.1625,67.70625,75.96875,56.05,73.38125,76.4875,72.85,55.64375,55.5375,50.3875,72.51875,64.34375,54.01875,81.6875,48.5125,50.3875,79.45,74.2625,73.2875,61.58125,59.04375,78.59375,76.11875,77.975,79.675,76.76875,69.19375,55.6875,79.25625,60.75625,72.34375,74.725,71.5,71.74375,55.3125,60.6875,74.94375,59.1125,68.7125,80.7125,82.21875,62.24375,59.4625,73.50625,81.175,60.8625,81.21875,73.29375,71.73125,56.0125,55.36875,65.6375,59.86875,72.99375,73.825,82.44375,65.41875,67.55625,73.85625,70.35625,80.15,81.3,82.1875,74.29375,82.5375,72.9875,66.7625,57.48125,65.15,73.84375,69.08125,62.38125,73.73125,74.2,48.78125,57.525,72.4875,72.80625,80.78125,62.74375,49.89375,73.75625,75.5375,54.9375,80.3625,62.8,72.7125,75.71875,68.2,65.8875,74.5,72.15625,53.39375,64.2,60.4,66.48125,81.13125,81.3375,73.45,56.98125,51.35625,81.79375,74.84375,64.5,76.4875,61.68125,73.1125,73.6625,67.575,75.65,79.99375,77.03125,80.4875,69.98125,74.05,67.7625,59.3125,73.6,73.475,73.61875,65.1625,73.46875,62.56875,73.95625,72.375,46.1125,81.475,74.75,79.73125,67.7125,53.31875,57.5,53.875,82.06875,73.4,61.825,70.08125,51.325,82.51875,82.33125,70.85,66.65625,73.08125,74.1125,64.75625,56.6625,72.53125,71.06875,74.35625,73.9125,64.61875,55.70625,69.9375,75.7,80.79375,56.00625,78.0625,76.075,68.03125,71.3875,73.3875,74.775,63.8625,53.90625,50.4875],"type":"choropleth","marker":{"line":{"colorbar":{"title":"","ticklen":2},"cmin":46.1125,"cmax":82.5375,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666666","rgba(70,19,97,1)"],["0.0833333333333332","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666666","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[58.19375,75.15625,73.61875,49.01875,75.05625,75.15625,73.4,81.8125,81.48125,70.73125,74.2875,75.725,69.3,74.35625,69.90625,80.68125,69.26875,57.56875,66.1625,67.70625,75.96875,56.05,73.38125,76.4875,72.85,55.64375,55.5375,50.3875,72.51875,64.34375,54.01875,81.6875,48.5125,50.3875,79.45,74.2625,73.2875,61.58125,59.04375,78.59375,76.11875,77.975,79.675,76.76875,69.19375,55.6875,79.25625,60.75625,72.34375,74.725,71.5,71.74375,55.3125,60.6875,74.94375,59.1125,68.7125,80.7125,82.21875,62.24375,59.4625,73.50625,81.175,60.8625,81.21875,73.29375,71.73125,56.0125,55.36875,65.6375,59.86875,72.99375,73.825,82.44375,65.41875,67.55625,73.85625,70.35625,80.15,81.3,82.1875,74.29375,82.5375,72.9875,66.7625,57.48125,65.15,73.84375,69.08125,62.38125,73.73125,74.2,48.78125,57.525,72.4875,72.80625,80.78125,62.74375,49.89375,73.75625,75.5375,54.9375,80.3625,62.8,72.7125,75.71875,68.2,65.8875,74.5,72.15625,53.39375,64.2,60.4,66.48125,81.13125,81.3375,73.45,56.98125,51.35625,81.79375,74.84375,64.5,76.4875,61.68125,73.1125,73.6625,67.575,75.65,79.99375,77.03125,80.4875,69.98125,74.05,67.7625,59.3125,73.6,73.475,73.61875,65.1625,73.46875,62.56875,73.95625,72.375,46.1125,81.475,74.75,79.73125,67.7125,53.31875,57.5,53.875,82.06875,73.4,61.825,70.08125,51.325,82.51875,82.33125,70.85,66.65625,73.08125,74.1125,64.75625,56.6625,72.53125,71.06875,74.35625,73.9125,64.61875,55.70625,69.9375,75.7,80.79375,56.00625,78.0625,76.075,68.03125,71.3875,73.3875,74.775,63.8625,53.90625,50.4875]}},"geo":"geo","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#htmlwidgets::saveWidget(plot, "plot2.html")</span>
<span class='co'>#IRdisplay::display_html(sprintf('&lt;iframe src="plot2.html" height=%d width=%d&gt;&lt;/iframe&gt;', 600, 900))</span>
</code></pre>
</div>
</details>
</div>
<p>Here we see that sub-saharan african countries are amongst the lowest life expectancy regions while Canada, Europe and Australia amongst the highest.</p>
<h3 id="continuous-variables">Continuous Variables</h3>
<p>To demonstrate the correlation between continuous variables and life expectancy, we created a correlation map.</p>
<strong>HIV.AIDS VS life.expectancy</strong>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>p</span><span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>HIV.AIDS</span>, <span class='va'>Life.expectancy</span>, alpha<span class='op'>=</span><span class='fl'>0.5</span>,color<span class='op'>=</span><span class='va'>Status</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>HIV.AIDS</span>, <span class='va'>Life.expectancy</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='st'>"Deaths per 1000 births from AIDS"</span>, Y<span class='op'>=</span><span class='st'>"Life expectancy"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/pkg/ggExtra/man/ggMarginal.html'>ggMarginal</a></span><span class='op'>(</span><span class='va'>p</span>, type<span class='op'>=</span><span class='st'>"histogram"</span>, fill<span class='op'>=</span><span class='st'>"slateblue"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/HIV%20VS%20LIFE%20EXPECTANCY-1.png" width="624" /></p>
</div>
<strong>Income composition of resources vs life expectancy</strong>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>p2</span><span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>Income.composition.of.resources</span>, <span class='va'>Life.expectancy</span>,
                 color<span class='op'>=</span><span class='va'>Country</span>,
                 fill<span class='op'>=</span><span class='va'>Status</span>,alpha<span class='op'>=</span><span class='fl'>0.01</span>, size<span class='op'>=</span> <span class='va'>GDP</span><span class='op'>)</span>, shape<span class='op'>=</span><span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_size.html'>scale_size</a></span><span class='op'>(</span>range<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.1</span>, <span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  
   <span class='fu'><a href='https://sjmgarnier.github.io/viridis/reference/scale_viridis.html'>scale_fill_viridis</a></span><span class='op'>(</span>discrete<span class='op'>=</span><span class='cn'>TRUE</span>, guide<span class='op'>=</span><span class='cn'>FALSE</span>, option<span class='op'>=</span><span class='st'>"A"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://rdrr.io/pkg/hrbrthemes/man/theme_ipsum.html'>theme_ipsum</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position<span class='op'>=</span><span class='st'>"bottom"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"Life Expectancy"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Income Composition"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/ggExtra/man/ggMarginal.html'>ggMarginal</a></span><span class='op'>(</span><span class='va'>p2</span>, type<span class='op'>=</span><span class='st'>"density"</span>, fill<span class='op'>=</span><span class='st'>"grey"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/Income%20composition%20vs%20Life%20expectancy-1.png" width="624" /></p>
</div>
<strong>Income composition vs Adult Mortality</strong>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>p3</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/ggstar/man/geom_star.html'>geom_star</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>Income.composition.of.resources</span>, <span class='va'>Adult.Mortality</span>,
                 color<span class='op'>=</span><span class='va'>Country</span>,
                 fill<span class='op'>=</span><span class='va'>Status</span>,alpha<span class='op'>=</span><span class='fl'>0.5</span>, size<span class='op'>=</span> <span class='va'>GDP</span><span class='op'>)</span>, shape<span class='op'>=</span><span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_size.html'>scale_size</a></span><span class='op'>(</span>range<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.1</span>, <span class='fl'>15</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  
   <span class='fu'><a href='https://sjmgarnier.github.io/viridis/reference/scale_viridis.html'>scale_fill_viridis</a></span><span class='op'>(</span>discrete<span class='op'>=</span><span class='cn'>TRUE</span>, guide<span class='op'>=</span><span class='cn'>FALSE</span>, option<span class='op'>=</span><span class='st'>"A"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://rdrr.io/pkg/hrbrthemes/man/theme_ipsum.html'>theme_ipsum</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position<span class='op'>=</span><span class='st'>"bottom"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"Adult Mortality"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Income Composition"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>
<span class='va'>p3</span><span class='op'>+</span>
  <span class='fu'><a href='https://gganimate.com/reference/transition_time.html'>transition_time</a></span><span class='op'>(</span><span class='va'>Year</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Year: {frame_time}"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/Income%20composition%20vs%20Adult%20Mortality-1.gif" /><!-- --></p>
</div>
<strong>Correlation network plot</strong>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>correl</span><span class='op'>&lt;-</span> <span class='fu'>corrr</span><span class='fu'>::</span><span class='fu'><a href='https://corrr.tidymodels.org/reference/correlate.html'>correlate</a></span><span class='op'>(</span><span class='va'>data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select_all.html'>select_if</a></span><span class='op'>(</span><span class='va'>is.numeric</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://corrr.tidymodels.org/reference/network_plot.html'>network_plot</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>correl</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/networkplot-1.png" width="624" /></p>
</div>
<strong>Correlation matrix</strong>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data_num</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>Country</span>, <span class='op'>-</span><span class='va'>Year</span>, <span class='op'>-</span><span class='va'>Status</span><span class='op'>)</span>

<span class='fu'><a href='https://ggobi.github.io/ggally/reference/ggcorr.html'>ggcorr</a></span><span class='op'>(</span>
  <span class='va'>data_num</span>,
  cor_matrix <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>data_num</span>, use <span class='op'>=</span> <span class='st'>"pairwise"</span><span class='op'>)</span>,
    label <span class='op'>=</span> <span class='cn'>T</span>, 
    hjust <span class='op'>=</span> <span class='fl'>0.95</span>,
    angle <span class='op'>=</span> <span class='fl'>0</span>,
    size <span class='op'>=</span> <span class='fl'>4</span>,
    layout.exp <span class='op'>=</span> <span class='fl'>3</span>
<span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/correlation%20matrix-1.png" width="624" /></p>
</div>
<h4 id="observations">Observations</h4>
<ul>
<li>The variables that life expectancy is most positively related are: schooling, and income composition of resources.</li>
<li>The variables most negatively associated with life expectancy are: adult mortality and HIV/AIDS.</li>
<li>Life expectancy has a negligible relationship with Population, Total expenditure, under-five deaths and Measles.</li>
<li>From the above observations, we would expect to see schooling, income composition of resources, adult mortality, and HIV/AIDS to have the largest impact in our linear model while Population, Total expenditure, under-five deaths and Measles are expected to have a smaller impact in the linear model.</li>
</ul>
<h1 id="variable-selection"><em>Variable Selection</em></h1>
<h2 id="preparing-the-data">Preparing the data</h2>
<p>Our first step is to ensure all of our variables can be used in the regression and then splitting the dataset into testing and training sets. For this study, we will be using a proportion of 0.75. We will not be using the Country and Year categories in this model as our aim is to predict the life expectancy based on factors that are more general and not specific to a place or time. Furthermore, the Country variable has over 150 levels, which will make our model extremely large.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>Country</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>Year</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>Status <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/if_else.html'>if_else</a></span><span class='op'>(</span><span class='va'>Status</span> <span class='op'>==</span> <span class='st'>"Developing"</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>Status</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>Status</span><span class='op'>)</span>

<span class='co'>#splitting data into testing and training sets</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span>
<span class='va'>initial_split</span> <span class='op'>&lt;-</span> <span class='fu'>initial_split</span><span class='op'>(</span><span class='va'>data</span>, prop <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span>
<span class='va'>expectancy_train</span> <span class='op'>&lt;-</span> <span class='fu'>training</span><span class='op'>(</span><span class='va'>initial_split</span><span class='op'>)</span>
<span class='va'>expectancy_test</span> <span class='op'>&lt;-</span> <span class='fu'>testing</span><span class='op'>(</span><span class='va'>initial_split</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"Table 3"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Table 3</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>expectancy_train</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table style="width:100%;">
<colgroup>
<col style="width: 1%" />
<col style="width: 2%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 2%" />
<col style="width: 8%" />
<col style="width: 4%" />
<col style="width: 2%" />
<col style="width: 1%" />
<col style="width: 6%" />
<col style="width: 2%" />
<col style="width: 6%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 7%" />
<col style="width: 6%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Status</th>
<th style="text-align: right;">Life.expectancy</th>
<th style="text-align: right;">Adult.Mortality</th>
<th style="text-align: right;">infant.deaths</th>
<th style="text-align: right;">Alcohol</th>
<th style="text-align: right;">percentage.expenditure</th>
<th style="text-align: right;">Hepatitis.B</th>
<th style="text-align: right;">Measles</th>
<th style="text-align: right;">BMI</th>
<th style="text-align: right;">under.five.deaths</th>
<th style="text-align: right;">Polio</th>
<th style="text-align: right;">Total.expenditure</th>
<th style="text-align: right;">Diphtheria</th>
<th style="text-align: right;">HIV.AIDS</th>
<th style="text-align: right;">GDP</th>
<th style="text-align: right;">Population</th>
<th style="text-align: right;">thinness..1.19.years</th>
<th style="text-align: right;">thinness.5.9.years</th>
<th style="text-align: right;">Income.composition.of.resources</th>
<th style="text-align: right;">Schooling</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">676</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">81.0</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9.04</td>
<td style="text-align: right;">212.08593</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">59.2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">7.46</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">2797.967</td>
<td style="text-align: right;">1143896</td>
<td style="text-align: right;">0.9</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.850</td>
<td style="text-align: right;">13.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">799</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">74.4</td>
<td style="text-align: right;">151</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">3.69</td>
<td style="text-align: right;">18.26183</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">45.8</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">97</td>
<td style="text-align: right;">6.46</td>
<td style="text-align: right;">87</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">244.469</td>
<td style="text-align: right;">1328961</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">0.679</td>
<td style="text-align: right;">12.6</td>
</tr>
</tbody>
</table>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"Table 4"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Table 4</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>expectancy_test</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<colgroup>
<col style="width: 1%" />
<col style="width: 2%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 2%" />
<col style="width: 8%" />
<col style="width: 4%" />
<col style="width: 2%" />
<col style="width: 1%" />
<col style="width: 6%" />
<col style="width: 2%" />
<col style="width: 6%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 7%" />
<col style="width: 6%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Status</th>
<th style="text-align: right;">Life.expectancy</th>
<th style="text-align: right;">Adult.Mortality</th>
<th style="text-align: right;">infant.deaths</th>
<th style="text-align: right;">Alcohol</th>
<th style="text-align: right;">percentage.expenditure</th>
<th style="text-align: right;">Hepatitis.B</th>
<th style="text-align: right;">Measles</th>
<th style="text-align: right;">BMI</th>
<th style="text-align: right;">under.five.deaths</th>
<th style="text-align: right;">Polio</th>
<th style="text-align: right;">Total.expenditure</th>
<th style="text-align: right;">Diphtheria</th>
<th style="text-align: right;">HIV.AIDS</th>
<th style="text-align: right;">GDP</th>
<th style="text-align: right;">Population</th>
<th style="text-align: right;">thinness..1.19.years</th>
<th style="text-align: right;">thinness.5.9.years</th>
<th style="text-align: right;">Income.composition.of.resources</th>
<th style="text-align: right;">Schooling</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">59.9</td>
<td style="text-align: right;">268</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">73.21924</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">430</td>
<td style="text-align: right;">18.1</td>
<td style="text-align: right;">89</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">8.13</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">631.7450</td>
<td style="text-align: right;">31731688</td>
<td style="text-align: right;">17.7</td>
<td style="text-align: right;">17.7</td>
<td style="text-align: right;">0.470</td>
<td style="text-align: right;">9.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">7</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">58.6</td>
<td style="text-align: right;">281</td>
<td style="text-align: right;">77</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">56.76222</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">2861</td>
<td style="text-align: right;">16.2</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">9.42</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">445.8933</td>
<td style="text-align: right;">284331</td>
<td style="text-align: right;">18.6</td>
<td style="text-align: right;">18.7</td>
<td style="text-align: right;">0.434</td>
<td style="text-align: right;">8.9</td>
</tr>
</tbody>
</table>
</div>
<h2 id="backward-selection">Backward Selection</h2>
<p>We will now be performing variable selection using regsubsets. Our nvmax is 19 as there are 19 remaining variables in the dataset.</p>
Table 5
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Variable selection </span>

<span class='va'>backward_sel</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/leaps/man/regsubsets.html'>regsubsets</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>Life.expectancy</span> <span class='op'>~</span><span class='va'>.</span>,data<span class='op'>=</span> <span class='va'>expectancy_train</span>, nvmax<span class='op'>=</span><span class='fl'>19</span>, method<span class='op'>=</span><span class='st'>"backward"</span><span class='op'>)</span>

<span class='co'>#backward_sel</span>
<span class='va'>back_summary</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>backward_sel</span><span class='op'>)</span>

<span class='va'>back_summary_df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span> 
   RSQ <span class='op'>=</span> <span class='va'>back_summary</span><span class='op'>$</span><span class='va'>rsq</span>,
   RSS <span class='op'>=</span> <span class='va'>back_summary</span><span class='op'>$</span><span class='va'>rss</span>,
   ADJ.R2 <span class='op'>=</span> <span class='va'>back_summary</span><span class='op'>$</span><span class='va'>adjr2</span>,
   BIC <span class='op'>=</span> <span class='va'>back_summary</span><span class='op'>$</span><span class='va'>bic</span>
<span class='op'>)</span>
<span class='va'>back_summary_df</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">RSQ</th>
<th style="text-align: right;">RSS</th>
<th style="text-align: right;">ADJ.R2</th>
<th style="text-align: right;">BIC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.5177821</td>
<td style="text-align: right;">46475.58</td>
<td style="text-align: right;">0.5173913</td>
<td style="text-align: right;">-887.2486</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.7279422</td>
<td style="text-align: right;">26220.60</td>
<td style="text-align: right;">0.7275009</td>
<td style="text-align: right;">-1587.5926</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.7898490</td>
<td style="text-align: right;">20254.10</td>
<td style="text-align: right;">0.7893372</td>
<td style="text-align: right;">-1899.5934</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.8105975</td>
<td style="text-align: right;">18254.38</td>
<td style="text-align: right;">0.8099821</td>
<td style="text-align: right;">-2020.9589</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.8145800</td>
<td style="text-align: right;">17870.55</td>
<td style="text-align: right;">0.8138263</td>
<td style="text-align: right;">-2040.1052</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.8249509</td>
<td style="text-align: right;">16871.02</td>
<td style="text-align: right;">0.8240963</td>
<td style="text-align: right;">-2104.1260</td>
</tr>
</tbody>
</table>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>## Using Mallow's C_P to find the right number of inputs</span>
<span class='va'>backward_sel_candidate_models</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
  n_input_variables <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>19</span><span class='op'>)</span>,
  C_p <span class='op'>=</span><span class='va'>back_summary</span><span class='op'>$</span><span class='va'>cp</span>
<span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"The best number of predictors to be selected is "</span>, <span class='va'>backward_sel_candidate_models</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>C_p</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>C_p</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/pull.html'>pull</a></span><span class='op'>(</span><span class='va'>n_input_variables</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>The best number of predictors to be selected is  12</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"\nTable 6"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>
Table 6</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>backward_sel_candidate_models</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">n_input_variables</th>
<th style="text-align: right;">C_p</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2404.139354</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">821.437844</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">356.633125</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">202.179470</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">174.149690</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">97.948598</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">50.986642</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">19.934640</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">13.454595</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">11.985773</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: right;">11.468809</td>
</tr>
<tr class="even">
<td style="text-align: right;">12</td>
<td style="text-align: right;">9.988715</td>
</tr>
<tr class="odd">
<td style="text-align: right;">13</td>
<td style="text-align: right;">10.121462</td>
</tr>
<tr class="even">
<td style="text-align: right;">14</td>
<td style="text-align: right;">11.148805</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15</td>
<td style="text-align: right;">12.691486</td>
</tr>
<tr class="even">
<td style="text-align: right;">16</td>
<td style="text-align: right;">14.287013</td>
</tr>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: right;">16.079369</td>
</tr>
<tr class="even">
<td style="text-align: right;">18</td>
<td style="text-align: right;">18.017771</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: right;">20.000000</td>
</tr>
</tbody>
</table>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>back_summary</span><span class='op'>$</span><span class='va'>cp</span>,
    main <span class='op'>=</span> <span class='st'>"Cp for Backward Method using a Training Set"</span>,
  xlab <span class='op'>=</span> <span class='st'>"Number of Input Variables"</span>, ylab <span class='op'>=</span> <span class='st'>"Cp"</span>, type <span class='op'>=</span> <span class='st'>"b"</span>, pch <span class='op'>=</span> <span class='fl'>19</span>,
  col <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/unnamed-chunk-9-1.png" width="624" /></p>
</div>
<p>The results of our backward selection tell us that the model with 12 variables is the best model, as it has the lowest <span class="math inline">\(C_p\)</span> of 9.988715.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>back_summary</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 2%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 2%" />
<col style="width: 8%" />
<col style="width: 4%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 6%" />
<col style="width: 2%" />
<col style="width: 6%" />
<col style="width: 4%" />
<col style="width: 3%" />
<col style="width: 2%" />
<col style="width: 4%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">(Intercept)</th>
<th style="text-align: left;">Status1</th>
<th style="text-align: left;">Adult.Mortality</th>
<th style="text-align: left;">infant.deaths</th>
<th style="text-align: left;">Alcohol</th>
<th style="text-align: left;">percentage.expenditure</th>
<th style="text-align: left;">Hepatitis.B</th>
<th style="text-align: left;">Measles</th>
<th style="text-align: left;">BMI</th>
<th style="text-align: left;">under.five.deaths</th>
<th style="text-align: left;">Polio</th>
<th style="text-align: left;">Total.expenditure</th>
<th style="text-align: left;">Diphtheria</th>
<th style="text-align: left;">HIV.AIDS</th>
<th style="text-align: left;">GDP</th>
<th style="text-align: left;">Population</th>
<th style="text-align: left;">thinness..1.19.years</th>
<th style="text-align: left;">thinness.5.9.years</th>
<th style="text-align: left;">Income.composition.of.resources</th>
<th style="text-align: left;">Schooling</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<p>The 12 variables include: <code>Status</code>, <code>Adult.Mortality</code>, <code>infant.deaths</code>, <code>percentage.expenditure</code>, <code>BMI</code>, <code>under.five.deaths</code>, <code>Diphtheria</code>, <code>HIV.AIDS</code>, <code>thinness.5.9.years</code>, <code>Income.composition.of.resources</code>, <code>Schooling</code> and <code>Alcohol</code>.</p>
<h4 id="observations-1">Observations</h4>
<ul>
<li>Polio and Hepatitis B are not included in this model while Diphtheria is. This suggests that Diphtheria affects life expectancy more than the other two diseases, which could be due to the fact that Diphtheria is more fatal in children (fatality rate is 5-10%, while Polio’s is 2-5% and Hepatitis B’ s is around 0.42 per 100000 population).</li>
<li>Thinness 5-9 years is selected, but not thinness 10-19 years. This could be due to the fact that thinness and malnutrition during childhood may lead to people dying earlier, and so it has a larger impact on life expectancy and was thus included in the model.</li>
<li>While Status and percentage expenditure both impact life expectancy, GDP and total expenditure do not. This makes sense as GDP and total expenditure are both absolute measures, and do not consider population of a country, while percentage expenditure takes into account the differences between population and cost of living in different areas.</li>
</ul>
<h2 id="forward-selection">Forward Selection</h2>
<p>Using the same methods, we will now be performing forward selection.</p>
<p>Table 7</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>### Forward selection</span>

<span class='va'>forward_sel</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/leaps/man/regsubsets.html'>regsubsets</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>Life.expectancy</span> <span class='op'>~</span><span class='va'>.</span>,data<span class='op'>=</span> <span class='va'>expectancy_train</span>, nvmax<span class='op'>=</span><span class='fl'>19</span>, method<span class='op'>=</span><span class='st'>"forward"</span><span class='op'>)</span>

<span class='va'>forward_summary</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>forward_sel</span><span class='op'>)</span>

<span class='va'>forward_summary_df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span> 
   RSQ <span class='op'>=</span> <span class='va'>forward_summary</span><span class='op'>$</span><span class='va'>rsq</span>,
   RSS <span class='op'>=</span> <span class='va'>forward_summary</span><span class='op'>$</span><span class='va'>rss</span>,
   ADJ.R2 <span class='op'>=</span> <span class='va'>forward_summary</span><span class='op'>$</span><span class='va'>adjr2</span>,
   BIC <span class='op'>=</span> <span class='va'>forward_summary</span><span class='op'>$</span><span class='va'>bic</span>
<span class='op'>)</span>
<span class='va'>forward_summary_df</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">RSQ</th>
<th style="text-align: right;">RSS</th>
<th style="text-align: right;">ADJ.R2</th>
<th style="text-align: right;">BIC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.5177821</td>
<td style="text-align: right;">46475.58</td>
<td style="text-align: right;">0.5173913</td>
<td style="text-align: right;">-887.2486</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.7279422</td>
<td style="text-align: right;">26220.60</td>
<td style="text-align: right;">0.7275009</td>
<td style="text-align: right;">-1587.5926</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.7898490</td>
<td style="text-align: right;">20254.10</td>
<td style="text-align: right;">0.7893372</td>
<td style="text-align: right;">-1899.5934</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.8105975</td>
<td style="text-align: right;">18254.38</td>
<td style="text-align: right;">0.8099821</td>
<td style="text-align: right;">-2020.9589</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.8161367</td>
<td style="text-align: right;">17720.52</td>
<td style="text-align: right;">0.8153893</td>
<td style="text-align: right;">-2050.5256</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.8216015</td>
<td style="text-align: right;">17193.83</td>
<td style="text-align: right;">0.8207306</td>
<td style="text-align: right;">-2080.6997</td>
</tr>
</tbody>
</table>
</div>
<p>Table 8</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>## Using Mallow's C_P to find the right number of inputs</span>
<span class='va'>forward_sel_candidate_models</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
  n_input_variables <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>19</span><span class='op'>)</span>,
  C_p <span class='op'>=</span> <span class='va'>forward_summary</span><span class='op'>$</span><span class='va'>cp</span>
<span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"The best number of predictors to be selected is "</span>, <span class='va'>forward_sel_candidate_models</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>C_p</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>C_p</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/pull.html'>pull</a></span><span class='op'>(</span><span class='va'>n_input_variables</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>The best number of predictors to be selected is  12</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>forward_sel_candidate_models</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">n_input_variables</th>
<th style="text-align: right;">C_p</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2404.139354</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">821.437844</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">356.633125</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">202.179470</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">162.411842</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">123.204489</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">106.087435</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">19.934640</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">13.454595</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">11.985773</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: right;">11.468809</td>
</tr>
<tr class="even">
<td style="text-align: right;">12</td>
<td style="text-align: right;">9.988715</td>
</tr>
<tr class="odd">
<td style="text-align: right;">13</td>
<td style="text-align: right;">10.121462</td>
</tr>
<tr class="even">
<td style="text-align: right;">14</td>
<td style="text-align: right;">11.148805</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15</td>
<td style="text-align: right;">12.691486</td>
</tr>
<tr class="even">
<td style="text-align: right;">16</td>
<td style="text-align: right;">14.287013</td>
</tr>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: right;">16.079369</td>
</tr>
<tr class="even">
<td style="text-align: right;">18</td>
<td style="text-align: right;">18.017771</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: right;">20.000000</td>
</tr>
</tbody>
</table>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>forward_summary</span><span class='op'>$</span><span class='va'>cp</span>,
    main <span class='op'>=</span> <span class='st'>"Cp for Forward Method using a Training Set"</span>,
  xlab <span class='op'>=</span> <span class='st'>"Number of Input Variables"</span>, ylab <span class='op'>=</span> <span class='st'>"Cp"</span>, type <span class='op'>=</span> <span class='st'>"b"</span>, pch <span class='op'>=</span> <span class='fl'>19</span>,
  col <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/unnamed-chunk-13-1.png" width="624" /></p>
</div>
<p>The model size we get is the same for both forward and backward selection, and contains the same variables. Due to multicollinearity, we will be removing the <code>Schooling</code> and <code>infant.deaths</code> from our model. The covariates we will be using are listed below as stepwise_selection.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>stepwise_selection</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span> <span class='op'>-</span><span class='va'>Hepatitis.B</span>, <span class='op'>-</span><span class='va'>Measles</span>, <span class='op'>-</span><span class='va'>Polio</span>, <span class='op'>-</span><span class='va'>Total.expenditure</span>, <span class='op'>-</span><span class='va'>GDP</span>, 
           <span class='op'>-</span><span class='va'>Population</span>, <span class='op'>-</span><span class='va'>thinness..1.19.years</span>, <span class='op'>-</span><span class='va'>Schooling</span>, <span class='op'>-</span><span class='va'>infant.deaths</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span>
    <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='op'>)</span> 
<span class='va'>stepwise_selection</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Status</td>
</tr>
<tr class="even">
<td style="text-align: left;">Life.expectancy</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Adult.Mortality</td>
</tr>
<tr class="even">
<td style="text-align: left;">Alcohol</td>
</tr>
<tr class="odd">
<td style="text-align: left;">percentage.expenditure</td>
</tr>
<tr class="even">
<td style="text-align: left;">BMI</td>
</tr>
<tr class="odd">
<td style="text-align: left;">under.five.deaths</td>
</tr>
<tr class="even">
<td style="text-align: left;">Diphtheria</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HIV.AIDS</td>
</tr>
<tr class="even">
<td style="text-align: left;">thinness.5.9.years</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Income.composition.of.resources</td>
</tr>
</tbody>
</table>
</div>
<p>Below, we can find our model, and the summary of our model.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>MLR_expectancy</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span> <span class='op'>~</span> <span class='va'>Status</span> <span class='op'>+</span> <span class='va'>Adult.Mortality</span> <span class='op'>+</span> <span class='va'>percentage.expenditure</span>
                     <span class='op'>+</span> <span class='va'>BMI</span> <span class='op'>+</span> <span class='va'>under.five.deaths</span> <span class='op'>+</span> <span class='va'>Diphtheria</span> <span class='op'>+</span> <span class='va'>Alcohol</span> <span class='op'>+</span> 
                     <span class='va'>HIV.AIDS</span> <span class='op'>+</span> <span class='va'>thinness.5.9.years</span> <span class='op'>+</span> <span class='va'>Income.composition.of.resources</span>, data <span class='op'>=</span> <span class='va'>expectancy_train</span><span class='op'>)</span>
<span class='fu'><a href='https://generics.r-lib.org/reference/tidy.html'>tidy</a></span><span class='op'>(</span><span class='va'>MLR_expectancy</span>, conf.int <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<colgroup>
<col style="width: 32%" />
<col style="width: 11%" />
<col style="width: 10%" />
<col style="width: 12%" />
<col style="width: 10%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">58.5126455</td>
<td style="text-align: right;">0.7554403</td>
<td style="text-align: right;">77.4550272</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">57.0305454</td>
<td style="text-align: right;">59.9947456</td>
</tr>
<tr class="even">
<td style="text-align: left;">Status1</td>
<td style="text-align: right;">1.2412777</td>
<td style="text-align: right;">0.4297390</td>
<td style="text-align: right;">2.8884455</td>
<td style="text-align: right;">0.0039396</td>
<td style="text-align: right;">0.3981717</td>
<td style="text-align: right;">2.0843837</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Adult.Mortality</td>
<td style="text-align: right;">-0.0206131</td>
<td style="text-align: right;">0.0011753</td>
<td style="text-align: right;">-17.5392368</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">-0.0229188</td>
<td style="text-align: right;">-0.0183073</td>
</tr>
<tr class="even">
<td style="text-align: left;">percentage.expenditure</td>
<td style="text-align: right;">0.0004885</td>
<td style="text-align: right;">0.0000771</td>
<td style="text-align: right;">6.3324696</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.0003371</td>
<td style="text-align: right;">0.0006398</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BMI</td>
<td style="text-align: right;">0.0570020</td>
<td style="text-align: right;">0.0074777</td>
<td style="text-align: right;">7.6229339</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.0423315</td>
<td style="text-align: right;">0.0716725</td>
</tr>
<tr class="even">
<td style="text-align: left;">under.five.deaths</td>
<td style="text-align: right;">-0.0027101</td>
<td style="text-align: right;">0.0007291</td>
<td style="text-align: right;">-3.7169385</td>
<td style="text-align: right;">0.0002108</td>
<td style="text-align: right;">-0.0041405</td>
<td style="text-align: right;">-0.0012796</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Diphtheria</td>
<td style="text-align: right;">0.0274355</td>
<td style="text-align: right;">0.0054988</td>
<td style="text-align: right;">4.9893188</td>
<td style="text-align: right;">0.0000007</td>
<td style="text-align: right;">0.0166473</td>
<td style="text-align: right;">0.0382236</td>
</tr>
<tr class="even">
<td style="text-align: left;">Alcohol</td>
<td style="text-align: right;">-0.0119317</td>
<td style="text-align: right;">0.0395812</td>
<td style="text-align: right;">-0.3014486</td>
<td style="text-align: right;">0.7631236</td>
<td style="text-align: right;">-0.0895861</td>
<td style="text-align: right;">0.0657227</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HIV.AIDS</td>
<td style="text-align: right;">-0.4122371</td>
<td style="text-align: right;">0.0211421</td>
<td style="text-align: right;">-19.4983807</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">-0.4537159</td>
<td style="text-align: right;">-0.3707584</td>
</tr>
<tr class="even">
<td style="text-align: left;">thinness.5.9.years</td>
<td style="text-align: right;">-0.0340371</td>
<td style="text-align: right;">0.0330401</td>
<td style="text-align: right;">-1.0301765</td>
<td style="text-align: right;">0.3031305</td>
<td style="text-align: right;">-0.0988585</td>
<td style="text-align: right;">0.0307843</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Income.composition.of.resources</td>
<td style="text-align: right;">16.5937484</td>
<td style="text-align: right;">0.8900820</td>
<td style="text-align: right;">18.6429444</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">14.8474945</td>
<td style="text-align: right;">18.3400023</td>
</tr>
</tbody>
</table>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>MLR_expectancy_2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span> <span class='op'>~</span> <span class='va'>Status</span> <span class='op'>+</span> <span class='va'>Adult.Mortality</span> <span class='op'>+</span> <span class='va'>percentage.expenditure</span>
                    <span class='op'>+</span> <span class='va'>BMI</span> <span class='op'>+</span> <span class='va'>under.five.deaths</span> <span class='op'>+</span> <span class='va'>Diphtheria</span> <span class='op'>+</span> <span class='va'>Alcohol</span> <span class='op'>+</span> 
                    <span class='va'>HIV.AIDS</span> <span class='op'>+</span> <span class='va'>thinness.5.9.years</span> <span class='op'>+</span> <span class='va'>Income.composition.of.resources</span> <span class='op'>+</span> 
                      <span class='va'>infant.deaths</span> <span class='op'>+</span> <span class='va'>Schooling</span>, data <span class='op'>=</span> <span class='va'>expectancy_train</span><span class='op'>)</span>
<span class='fu'><a href='https://generics.r-lib.org/reference/tidy.html'>tidy</a></span><span class='op'>(</span><span class='va'>MLR_expectancy_2</span>, conf.int<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 11%" />
<col style="width: 10%" />
<col style="width: 11%" />
<col style="width: 10%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">54.6706112</td>
<td style="text-align: right;">0.7911543</td>
<td style="text-align: right;">69.102340</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">53.1184413</td>
<td style="text-align: right;">56.2227812</td>
</tr>
<tr class="even">
<td style="text-align: left;">Status1</td>
<td style="text-align: right;">0.7342522</td>
<td style="text-align: right;">0.3916697</td>
<td style="text-align: right;">1.874672</td>
<td style="text-align: right;">0.0610761</td>
<td style="text-align: right;">-0.0341668</td>
<td style="text-align: right;">1.5026712</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Adult.Mortality</td>
<td style="text-align: right;">-0.0177494</td>
<td style="text-align: right;">0.0010812</td>
<td style="text-align: right;">-16.415941</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">-0.0198707</td>
<td style="text-align: right;">-0.0156281</td>
</tr>
<tr class="even">
<td style="text-align: left;">percentage.expenditure</td>
<td style="text-align: right;">0.0004508</td>
<td style="text-align: right;">0.0000701</td>
<td style="text-align: right;">6.431575</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.0003133</td>
<td style="text-align: right;">0.0005883</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BMI</td>
<td style="text-align: right;">0.0339693</td>
<td style="text-align: right;">0.0069625</td>
<td style="text-align: right;">4.878866</td>
<td style="text-align: right;">0.0000012</td>
<td style="text-align: right;">0.0203095</td>
<td style="text-align: right;">0.0476292</td>
</tr>
<tr class="even">
<td style="text-align: left;">under.five.deaths</td>
<td style="text-align: right;">-0.0749374</td>
<td style="text-align: right;">0.0084056</td>
<td style="text-align: right;">-8.915167</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">-0.0914284</td>
<td style="text-align: right;">-0.0584464</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Diphtheria</td>
<td style="text-align: right;">0.0128051</td>
<td style="text-align: right;">0.0050786</td>
<td style="text-align: right;">2.521364</td>
<td style="text-align: right;">0.0118163</td>
<td style="text-align: right;">0.0028413</td>
<td style="text-align: right;">0.0227689</td>
</tr>
<tr class="even">
<td style="text-align: left;">Alcohol</td>
<td style="text-align: right;">-0.0814556</td>
<td style="text-align: right;">0.0375585</td>
<td style="text-align: right;">-2.168764</td>
<td style="text-align: right;">0.0302928</td>
<td style="text-align: right;">-0.1551419</td>
<td style="text-align: right;">-0.0077693</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HIV.AIDS</td>
<td style="text-align: right;">-0.4153210</td>
<td style="text-align: right;">0.0191870</td>
<td style="text-align: right;">-21.645997</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">-0.4529641</td>
<td style="text-align: right;">-0.3776780</td>
</tr>
<tr class="even">
<td style="text-align: left;">thinness.5.9.years</td>
<td style="text-align: right;">-0.0626015</td>
<td style="text-align: right;">0.0301367</td>
<td style="text-align: right;">-2.077252</td>
<td style="text-align: right;">0.0379866</td>
<td style="text-align: right;">-0.1217268</td>
<td style="text-align: right;">-0.0034762</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Income.composition.of.resources</td>
<td style="text-align: right;">9.2798242</td>
<td style="text-align: right;">0.9431914</td>
<td style="text-align: right;">9.838750</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">7.4293717</td>
<td style="text-align: right;">11.1302768</td>
</tr>
<tr class="even">
<td style="text-align: left;">infant.deaths</td>
<td style="text-align: right;">0.0986923</td>
<td style="text-align: right;">0.0113129</td>
<td style="text-align: right;">8.723857</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.0764974</td>
<td style="text-align: right;">0.1208871</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Schooling</td>
<td style="text-align: right;">0.8770596</td>
<td style="text-align: right;">0.0667411</td>
<td style="text-align: right;">13.141222</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.7461199</td>
<td style="text-align: right;">1.0079994</td>
</tr>
</tbody>
</table>
</div>
<h4 id="analysing-the-effect-of-multicollinearity">Analysing The Effect Of Multicollinearity</h4>
<p>From the correlation matrix above, we know that the pair of <code>Schooling</code> and <code>Income.composition.of.resources</code> as well as the pair <code>under.five.deaths</code> and <code>infant.deaths</code> are highly correlated. The first model <code>MLR_expectancy</code> adjusts for this by removing one variable each from both correlated pairs while <code>MLR_expectancy_2</code> does not. The impact of not adjusting the model is a decrease in the magnitude of the coefficient estimate which is caused by the newly added correlated variable taking away some of its significance. In our models: <span class="math inline">\(\\\\\)</span> <code>Income.composition.of.resources</code> : 16.6 (without) <br><br/> <code>Income.composition.of.resources</code>: 9.28 (with)<br><br/> <code>under.five.deaths</code>: -2.710e-03 (without)<br><br/> <code>under.five.deaths</code>: -7.494e-02 (with)<br><br/> Therefore, it is not ideal to include correlated covariates <code>Schooling</code> and <code>infant.deaths</code> in the model.</p>
<p>Below, we also do forward selection for interactive models, which we put a nvmax of 189 as those are the maximum number of interactions we can get.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>forward_int_sel</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/leaps/man/regsubsets.html'>regsubsets</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>Life.expectancy</span> <span class='op'>~</span><span class='va'>.</span> <span class='op'>^</span><span class='fl'>2</span>,data<span class='op'>=</span> <span class='va'>expectancy_train</span>, nvmax <span class='op'>=</span> <span class='fl'>189</span>, method<span class='op'>=</span><span class='st'>"forward"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Reordering variables and trying again:</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>forward_int_summary</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>forward_int_sel</span><span class='op'>)</span>

<span class='va'>forward_int_sel_candidate_models</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
  n_input_variables <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>forward_int_summary</span><span class='op'>$</span><span class='va'>cp</span><span class='op'>)</span><span class='op'>)</span>,
  C_p <span class='op'>=</span> <span class='va'>forward_int_summary</span><span class='op'>$</span><span class='va'>cp</span>
<span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>forward_int_summary</span><span class='op'>$</span><span class='va'>cp</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">105.696</td>
</tr>
</tbody>
</table>
</div>
<p>As shown, the lowest <span class="math inline">\(C_p\)</span> for the forward selection models with interaction are much higher than the ones for the additive models. This suggests that the models with interaction may not be as good as that without, and as there are an incredibly large number of variables, we will not be doing any interactive models.</p>
<h2 id="lasso-model-selection">LASSO Model Selection</h2>
<p>We will now be using LASSO to further see what model is the best when all the covariates are included. Below, we use <code>cv.glmnet</code> to find the smallest lambda to further create a model and do analysis.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span>
<span class='va'>cv_lambda_LASSO</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/cv.glmnet.html'>cv.glmnet</a></span><span class='op'>(</span>
  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>,
  alpha <span class='op'>=</span> <span class='fl'>1</span>,
  lambda <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>exp</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>8</span>, <span class='fl'>3</span>, <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>)</span>,
  family <span class='op'>=</span> <span class='st'>'poisson'</span>
<span class='op'>)</span>
<span class='va'>lambda_min_MSE_LASSO</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>cv_lambda_LASSO</span><span class='op'>$</span><span class='va'>lambda.min</span>, <span class='fl'>5</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"Figure 6\n"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Figure 6</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>cv_lambda_LASSO</span>, main <span class='op'>=</span> <span class='st'>"Lambda selection by CV with LASSO\n\n"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<img src="life-expectancy-analysis_files/figure-html5/unnamed-chunk-18-1.png" width="624" />
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>cv_lambda_LASSO</span><span class='op'>$</span><span class='va'>glmnet.fit</span>, <span class='st'>"lambda"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"Figure 7"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Figure 7</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='op'>(</span>v <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>lambda_min_MSE_LASSO</span><span class='op'>)</span>, col <span class='op'>=</span> <span class='st'>"red"</span>, lwd <span class='op'>=</span> <span class='fl'>3</span>, lty <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/unnamed-chunk-18-2.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>lambda_min_MSE_LASSO</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.00136</td>
</tr>
</tbody>
</table>
</div>
<p>The smallest lambda we found from LASSO is 0.00136.</p>
<h2 id="ridge-model-selection">Ridge Model Selection</h2>
<p>We will also be using ridge as a model selection method. Below, we perform ridge and find the smallest lambda for our models.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"Figure 8"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Figure 8</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>cv_lambda_RIDGE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/cv.glmnet.html'>cv.glmnet</a></span><span class='op'>(</span>
  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>,
  alpha <span class='op'>=</span> <span class='fl'>0</span>,
  lambda <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>exp</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>12</span>, <span class='fl'>10</span>, <span class='fl'>0.3</span><span class='op'>)</span><span class='op'>)</span>,
  family <span class='op'>=</span> <span class='st'>'poisson'</span>
<span class='op'>)</span>
<span class='va'>lambda_min_MSE_RIDGE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>cv_lambda_RIDGE</span><span class='op'>$</span><span class='va'>lambda.min</span>, <span class='fl'>5</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>cv_lambda_RIDGE</span>, main <span class='op'>=</span> <span class='st'>"Lambda selection by CV with RIDGE\n\n"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<img src="life-expectancy-analysis_files/figure-html5/unnamed-chunk-20-1.png" width="624" />
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>cv_lambda_RIDGE</span><span class='op'>$</span><span class='va'>glmnet.fit</span>, <span class='st'>"lambda"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"Figure 9"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Figure 9</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='op'>(</span>v <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>lambda_min_MSE_RIDGE</span><span class='op'>)</span>, col <span class='op'>=</span> <span class='st'>"red"</span>, lwd <span class='op'>=</span> <span class='fl'>3</span>, lty <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/unnamed-chunk-20-2.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>lambda_min_MSE_RIDGE</span>
</code></pre>
</div>
</details>
<pre><code>[1] 0.00335</code></pre>
</div>
<h2 id="cross-validation">Cross-Validation</h2>
<p>We will now be performing cross-validation to test our predictive model. Below, we have a few different models. - <code>model_5CV</code> and <code>model_holdout</code> are the cross-validation with 5 folds and holdout models respectively built using the stepwise covariates found through the variable selection methods. - <code>model_lasso_cv</code> and <code>model_lasso_holdout</code> are the cross validation with 5 fold and holdout models built using lasso for the cross validation and the lambda found from LASSO for the holdout model. - <code>model_ridge_cv</code> and <code>model_ridge_holdout</code> are the cross validation with 5 fold and holdout models built using ridge for the cross validation and the lambda found from ridge for the holdout model. - Lastly, <code>model_elastic</code> is the cross validation done for 5-fold using the elastic method.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span>
<span class='va'>lambda</span> <span class='op'>&lt;-</span> <span class='fl'>10</span><span class='op'>^</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>3</span>, <span class='fl'>3</span>, length <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>
<span class='co'># define training control</span>
<span class='va'>train_control</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/caret/man/trainControl.html'>trainControl</a></span><span class='op'>(</span>method<span class='op'>=</span><span class='st'>"cv"</span>, number <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>

<span class='co'># train the models</span>
<span class='co'>#5 fold CV using stepwise covariates</span>
<span class='va'>model_5CV</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/caret/man/train.html'>train</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span><span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='va'>stepwise_selection</span><span class='op'>]</span>, 
               trControl<span class='op'>=</span><span class='va'>train_control</span>, method<span class='op'>=</span><span class='st'>"lm"</span>, preProcess <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"center"</span>, <span class='st'>"scale"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#stepwise covariates lm holdout</span>
<span class='va'>model_holdout</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span><span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='va'>stepwise_selection</span><span class='op'>]</span><span class='op'>)</span> 

<span class='co'>#lasso with CV</span>
<span class='va'>model_lasso_cv</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/caret/man/train.html'>train</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span><span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, 
               trControl<span class='op'>=</span><span class='va'>train_control</span>, method<span class='op'>=</span><span class='st'>"glmnet"</span>, preProcess <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"center"</span>, <span class='st'>"scale"</span><span class='op'>)</span>,tuneGrid <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/expand.grid.html'>expand.grid</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>1</span>, lambda <span class='op'>=</span> <span class='va'>lambda</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#ridge with CV</span>
<span class='va'>model_ridge_cv</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/caret/man/train.html'>train</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span><span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, 
               trControl<span class='op'>=</span><span class='va'>train_control</span>, method<span class='op'>=</span><span class='st'>"glmnet"</span>, preProcess <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"center"</span>, <span class='st'>"scale"</span><span class='op'>)</span>,tuneGrid <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/expand.grid.html'>expand.grid</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0</span>, lambda <span class='op'>=</span> <span class='va'>lambda</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#lasso holdout</span>
<span class='va'>model_lasso_holdout</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/glmnet.html'>glmnet</a></span><span class='op'>(</span> 
  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>,
  alpha <span class='op'>=</span> <span class='fl'>1</span>,
  lambda <span class='op'>=</span> <span class='va'>lambda_min_MSE_LASSO</span>
<span class='op'>)</span>

<span class='co'>#ridge holdout</span>
<span class='va'>model_ridge_holdout</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/glmnet.html'>glmnet</a></span><span class='op'>(</span> 
  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>,
  alpha <span class='op'>=</span> <span class='fl'>0</span>,
  lambda <span class='op'>=</span> <span class='va'>lambda_min_MSE_RIDGE</span>
<span class='op'>)</span>

<span class='co'>#elastic cv</span>
<span class='va'>model_elastic</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/caret/man/train.html'>train</a></span><span class='op'>(</span>
  <span class='va'>Life.expectancy</span> <span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>expectancy_train</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, method <span class='op'>=</span> <span class='st'>"glmnet"</span>,
  preProcess <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"center"</span>, <span class='st'>"scale"</span><span class='op'>)</span>,
  trControl <span class='op'>=</span> <span class='va'>train_control</span>,
  tuneLength <span class='op'>=</span> <span class='fl'>10</span>
  <span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>In order to test which model is the best, we will be finding the RMSE’s of the models and comparing.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>holdout.prediction</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>model_holdout</span>, newdata <span class='op'>=</span> <span class='va'>expectancy_test</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>

<span class='va'>holdout.rmse</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mltools/man/rmse.html'>rmse</a></span><span class='op'>(</span>
    preds <span class='op'>=</span> <span class='va'>holdout.prediction</span>,
    actuals <span class='op'>=</span> <span class='va'>expectancy_test</span><span class='op'>$</span><span class='va'>Life.expectancy</span><span class='op'>)</span>

<span class='va'>model.5CV.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>model_5CV</span>, newdata <span class='op'>=</span> <span class='va'>expectancy_test</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>

<span class='va'>model.5CV.rmse</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mltools/man/rmse.html'>rmse</a></span><span class='op'>(</span>
    preds <span class='op'>=</span> <span class='va'>model.5CV.pred</span>,
    actuals <span class='op'>=</span> <span class='va'>expectancy_test</span><span class='op'>$</span><span class='va'>Life.expectancy</span><span class='op'>)</span>

<span class='va'>lasso.holdout.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>model_lasso_holdout</span>, newx <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_test</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>lasso.cv.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>model_lasso_cv</span>, newx <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_test</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>ridge.holdout.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>model_ridge_holdout</span>, newx <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>expectancy_test</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>lasso.cv.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>model_lasso_cv</span>, <span class='fu'><a href='https://rdrr.io/r/stats/model.matrix.html'>model.matrix</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span> <span class='op'>~</span><span class='va'>.</span>, <span class='va'>expectancy_test</span><span class='op'>)</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>
<span class='va'>lasso.cv.rmse</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mltools/man/rmse.html'>rmse</a></span><span class='op'>(</span><span class='va'>lasso.cv.pred</span>,<span class='va'>expectancy_test</span><span class='op'>$</span><span class='va'>Life.expectancy</span><span class='op'>)</span>

<span class='va'>ridge.cv.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>model_ridge_cv</span>, <span class='fu'><a href='https://rdrr.io/r/stats/model.matrix.html'>model.matrix</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span> <span class='op'>~</span><span class='va'>.</span>, <span class='va'>expectancy_test</span><span class='op'>)</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>
<span class='va'>ridge.cv.rmse</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mltools/man/rmse.html'>rmse</a></span><span class='op'>(</span><span class='va'>ridge.cv.pred</span>,<span class='va'>expectancy_test</span><span class='op'>$</span><span class='va'>Life.expectancy</span><span class='op'>)</span>

<span class='va'>elastic.cv.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>model_elastic</span>, <span class='fu'><a href='https://rdrr.io/r/stats/model.matrix.html'>model.matrix</a></span><span class='op'>(</span><span class='va'>Life.expectancy</span> <span class='op'>~</span><span class='va'>.</span>, <span class='va'>expectancy_test</span><span class='op'>)</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>
<span class='va'>elastic.cv.rmse</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mltools/man/rmse.html'>rmse</a></span><span class='op'>(</span><span class='va'>elastic.cv.pred</span>,<span class='va'>expectancy_test</span><span class='op'>$</span><span class='va'>Life.expectancy</span><span class='op'>)</span>

<span class='va'>holdout.lasso.rmse</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mltools/man/rmse.html'>rmse</a></span><span class='op'>(</span>
    preds <span class='op'>=</span> <span class='va'>lasso.holdout.pred</span>,
    actuals <span class='op'>=</span> <span class='va'>expectancy_test</span><span class='op'>$</span><span class='va'>Life.expectancy</span><span class='op'>)</span>

<span class='va'>holdout.ridge.rmse</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mltools/man/rmse.html'>rmse</a></span><span class='op'>(</span>
    preds <span class='op'>=</span> <span class='va'>ridge.holdout.pred</span>,
    actuals <span class='op'>=</span> <span class='va'>expectancy_test</span><span class='op'>$</span><span class='va'>Life.expectancy</span><span class='op'>)</span>

<span class='va'>RMSE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
    Method <span class='op'>=</span> <span class='st'>"LM Hold-out"</span>,
    RMSE <span class='op'>=</span> <span class='va'>holdout.rmse</span><span class='op'>)</span>

<span class='va'>RMSE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>RMSE</span>,<span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
               Method <span class='op'>=</span> <span class='st'>"5 fold LM CV"</span>,
               RMSE <span class='op'>=</span> <span class='va'>model.5CV.rmse</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>RMSE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>RMSE</span>,<span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
               Method <span class='op'>=</span> <span class='st'>"LASSO CV"</span>,
               RMSE <span class='op'>=</span> <span class='va'>lasso.cv.rmse</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>RMSE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>RMSE</span>,<span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
               Method <span class='op'>=</span> <span class='st'>"RIDGE CV"</span>,
               RMSE <span class='op'>=</span> <span class='va'>ridge.cv.rmse</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>RMSE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>RMSE</span>,<span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
               Method <span class='op'>=</span> <span class='st'>"Elastic CV"</span>,
               RMSE <span class='op'>=</span> <span class='va'>elastic.cv.rmse</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>RMSE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>RMSE</span>, <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
               Method <span class='op'>=</span> <span class='st'>"LASSO Hold-out"</span>,
               RMSE <span class='op'>=</span> <span class='va'>holdout.lasso.rmse</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>RMSE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>RMSE</span>, <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
               Method <span class='op'>=</span> <span class='st'>"RIDGE Hold-out"</span>,
               RMSE <span class='op'>=</span> <span class='va'>holdout.ridge.rmse</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>RMSE</span>  <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Method</th>
<th style="text-align: right;">RMSE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">LM Hold-out</td>
<td style="text-align: right;">3.919471</td>
</tr>
<tr class="even">
<td style="text-align: left;">5 fold LM CV</td>
<td style="text-align: right;">3.919471</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LASSO CV</td>
<td style="text-align: right;">3.664512</td>
</tr>
<tr class="even">
<td style="text-align: left;">RIDGE CV</td>
<td style="text-align: right;">3.720795</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Elastic CV</td>
<td style="text-align: right;">3.663028</td>
</tr>
<tr class="even">
<td style="text-align: left;">LASSO Hold-out</td>
<td style="text-align: right;">3.667097</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RIDGE Hold-out</td>
<td style="text-align: right;">3.663632</td>
</tr>
</tbody>
</table>
</div>
<p>We can see that the model with the lowest RMSE is the elastic model with an RMSE of 3.663029. The coefficients for this model can be found below.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span><span class='op'>(</span><span class='va'>model_elastic</span><span class='op'>$</span><span class='va'>finalModel</span>, <span class='va'>model_elastic</span><span class='op'>$</span><span class='va'>bestTune</span><span class='op'>$</span><span class='va'>lambda</span><span class='op'>)</span> 
</code></pre>
</div>
</details>
<pre><code>19 x 1 sparse Matrix of class &quot;dgCMatrix&quot;
                                          s1
(Intercept)                      69.10258900
Adult.Mortality                  -2.30326426
infant.deaths                    10.27596986
Alcohol                          -0.28613317
percentage.expenditure            0.62442166
Hepatitis.B                      -0.06411130
Measles                          -0.04012417
BMI                               0.66222164
under.five.deaths               -10.55426961
Polio                             0.27901943
Total.expenditure                 0.14502042
Diphtheria                        0.18339641
HIV.AIDS                         -2.68744580
GDP                               0.19137946
Population                        0.02274985
thinness..1.19.years             -0.02926623
thinness.5.9.years               -0.24398017
Income.composition.of.resources   1.74121425
Schooling                         2.42970613</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>model_elastic</span><span class='op'>$</span><span class='va'>bestTune</span> <span class='op'><a href='https://rdrr.io/pkg/hrbrthemes/man/hrbrthemes-exports.html'>%&gt;%</a></span> <span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">alpha</th>
<th style="text-align: right;">lambda</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">0.0029358</td>
</tr>
</tbody>
</table>
</div>
<p>This model is a convex combination of Ridge and LASSO. The equation to understand the alpha for this elastic model is <span class="math inline">\(\alpha \times LASSO + (1-\alpha) \times RIDGE\)</span>, which combines the L1 and L2 norms.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/caret/man/varImp.html'>varImp</a></span><span class='op'>(</span><span class='va'>model_elastic</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ggtitle</a></span><span class='op'>(</span><span class='st'>"Most important variables from elastic CV"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>caption <span class='op'>=</span> <span class='st'>"Figure 10"</span><span class='op'>)</span> 
</code></pre>
</div>
</details>
<p><img src="life-expectancy-analysis_files/figure-html5/unnamed-chunk-26-1.png" width="624" /></p>
</div>
<h4 id="observations-2">Observations</h4>
<ul>
<li>The most important variables we get from this are under five deaths, infant deaths, HIV/AIDS, Adult mortality, Income composition of variables, BMI and percentage expenditure.</li>
<li>Population, thinness, Measles, Hepatitis B and total expenditure are less important.</li>
<li>Alcohol and Polio are right in the middle of the variable importance graph.</li>
</ul>
<h1 id="discussion">Discussion</h1>
<h2 id="results-and-impacts">Results and impacts</h2>
<p>In our study we used variable selection methods (both forward and backward) to find that the best model is the one with 12 covariates. From there, we used those covariates to create cross-validation models with 5-fold and holdout models. Additionally, we performed LASSO and ridge and created 5-fold cross validation and hold-out models for the two. The last type of model we did was an elastic cross-validation model. We discovered by comparing RMSE that the best model is the elastic cross-validation, and thus found the coefficients for the specific model. Our findings help us see the best model in predicting life expectancy, thus also allowing us to see which factors affect life expectancy the most. Our analysis showed us that Under-five deaths, infant deaths, HIV/AIDS, Adult Mortality, Schooling and income composition of resources are the factors that affect life expectancy the most.</p>
<h2 id="are-the-results-what-we-expected">Are the results what we expected?</h2>
<ul>
<li>It is unsurprising that a disease such as HIV/AIDS affect life expectancy. One could question why Measles was not equally as important, but a reason for this could be that there is a vaccine which is quite widespread, and so the disease is not as impactful anymore.</li>
<li>Similarly, infant deaths, under five deaths and adult mortality being the most important are also what we expected, as they directly involve life expectancy.</li>
<li>Our variable selection methods suggest that Alcohol is an important aspect of our model, but the Important variables for our best model seem to suggest otherwise. We would expect Alcohol to be higher up on the important variables graph.</li>
</ul>
<h2 id="improvements-that-could-be-made">Improvements that could be made</h2>
<ul>
<li>This study only takes into account additive models, and so, we are not able to explore the relationship between variables in the model. While we showed that the <span class="math inline">\(C_p\)</span> is much higher with interactions, our model could be improved using interactions, so there is further room for improvement here.</li>
</ul>
<h2 id="future-questionsresearch">Future questions/research</h2>
<p>Our results with this study hae allowed us to see the factors affecting life expectancy and the best way to predict life expectancy in any random country. In the future, this study could lead to questions about: - How can governments help in increasing life expectancy and what areas should they be focusing on specifically? - The data in this study predates Covid-19. How much does Covid-19 affect life expectancy and how much would it change our model? - As mentioned above, the data in this study is from 2000 - 2015. There have been multiple advancements in the medical field since then. Further, 15 years is also a long period of time. It would be interesting to explore how for different and shorter periods of time how life expectancy changes and how its changed over time.</p>
<h1 id="references">References</h1>
<p><span class="math inline">\(^{(1)}\)</span> World Health Organisation (WHO). (2018, February 10). Life expectancy (WHO). Kaggle. Retrieved November 6, 2021, from <a href="https://www.kaggle.com/kumarajarshi/life-expectancy-who" class="uri">https://www.kaggle.com/kumarajarshi/life-expectancy-who</a>.</p>
<p><span class="math inline">\(^{(2)}\)</span> Tier 1-life expectancy and wellbeing-1.19 life expectancy at birth. Department of Health | Tier 1-Life expectancy and wellbeing-1.19 Life expectancy at birth. (n.d.). Retrieved November 6, 2021, from <a href="https://www1.health.gov.au/internet/publications/publishing.nsf/Content/oatsih-hpf-2012-toc~tier1~life-exp-wellb~119" class="uri">https://www1.health.gov.au/internet/publications/publishing.nsf/Content/oatsih-hpf-2012-toc~tier1~life-exp-wellb~119</a>.</p>
<p>National Progress Report 2025 Goal: Reduce HBV Deaths. (2021, June 03). Retrieved from <a href="https://www.cdc.gov/hepatitis/policy/NPR/2021/NationalProgressReport-HepB-ReduceDeaths.htm" class="uri">https://www.cdc.gov/hepatitis/policy/NPR/2021/NationalProgressReport-HepB-ReduceDeaths.htm</a></p>
<p>Clinical Features of Diphtheria. (2020, May 26). Retrieved from <a href="https://www.cdc.gov/diphtheria/clinicians.html" class="uri">https://www.cdc.gov/diphtheria/clinicians.html</a></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
